<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HashSwap</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <!-- Top bar -->
  <header class="topbar">
    <div class="brand">
      <img class="brand__logo" src="/assets/logo.png" alt="HashSwap" />
      <div>
        <div class="brand__name">HashSwap</div>
        <div class="brand__sub" id="networkName">Hedera Testnet</div>
      </div>
    </div>

    <div class="topbar__right">
      <div class="pill pill--soft">
        <span class="pill__label">Sign</span>
        <label class="switch">
          <input id="signModeToggle" type="checkbox" />
          <span class="slider"></span>
        </label>
        <span id="signModeLabel" class="pill__value">Backend</span>
      </div>

      <button id="btnConnectTop" class="btn btn-primary">Connect</button>
      <button id="btnDisconnect" class="btn btn-ghost" style="display:none;">Disconnect</button>
    </div>
  </header>

  <main class="wrap">
    <div class="card">
      <div class="card__head">
        <div class="card__headLeft">
          <div class="kpiTitle">Wallet</div>
          <div id="walletStatus" class="kpiValue">Not connected</div>
        </div>

        <div class="card__headRight">
          <div class="kpiTitle">Balances</div>
          <div id="balancesLine" class="kpiValue">hUSD: 0 | hEUR: 0 | hVND: 0</div>
        </div>
      </div>

      <div class="tabs">
        <button id="tabSwap" class="tab tab--active">Swap</button>
        <button id="tabLiquidity" class="tab">Liquidity</button>
        <button id="tabFaucet" class="tab">Faucet</button>

        <div class="tabs__spacer"></div>
        <button id="btnReset" class="btn btn-ghost btn-sm">Reset</button>
      </div>

      <!-- Swap -->
      <section id="panelSwap" class="panel">
        <h2 class="panel__title">Swap</h2>

        <div class="panel__subline">
          <div>Pool: <span id="swapPoolLine">—</span></div>
          <div id="rateLine">—</div>
        </div>

        <div class="box">
          <div class="rowHead">
            <div class="label">From</div>
            <div class="hint">Balance: <span id="fromBal">0</span></div>
          </div>

          <div class="inputRow">
            <input id="fromAmount" class="input" placeholder="0.0" />
            <select id="fromTokenSel" class="select"></select>
          </div>

          <div class="midRow">
            <button id="btnFlip" class="btn btn-ghost btn-circle" title="Flip">↑↓</button>
            <div class="midRight">
              <div class="label">Slippage</div>
              <select id="slippageSel" class="select select--small">
                <option value="50" selected>0.50%</option>
                <option value="100">1.00%</option>
                <option value="200">2.00%</option>
                <option value="500">5.00%</option>
                <option value="auto">Auto</option>
              </select>
            </div>
          </div>

          <div class="rowHead">
            <div class="label">To (estimate)</div>
            <div class="hint">Balance: <span id="toBal">0</span></div>
          </div>

          <div class="inputRow">
            <input id="toAmount" class="input" placeholder="0.0" disabled />
            <select id="toTokenSel" class="select"></select>
          </div>

          <button id="btnSwap" class="btn btn-primary btn-big">Swap</button>

          <div id="swapMsg" class="msg"></div>

          <div class="note">
            Swap supports <b>Backend-sign</b> (operator demo) and <b>Wallet-sign</b>.
            Toggle “Sign” on the top-right.
          </div>
        </div>
      </section>

      <!-- Liquidity -->
      <section id="panelLiquidity" class="panel hidden">
        <h2 class="panel__title">Liquidity</h2>

        <div class="box">
          <div class="note">
            Liquidity uses <b>wallet-sign</b> (other wallets can add/remove).
            UI shows your total deposited amounts (not share).
          </div>

          <div class="grid2">
            <div class="field">
              <div class="label">Add: Amount tokenA</div>
              <div class="inputRow">
                <input id="liqAmountA" class="input" placeholder="0.0" />
                <div class="tag" id="liqTokenA">tokenA</div>
              </div>
            </div>

            <div class="field">
              <div class="label">Required tokenB (auto)</div>
              <div class="inputRow">
                <input id="liqAmountB" class="input" placeholder="0.0" disabled />
                <div class="tag" id="liqTokenB">tokenB</div>
              </div>
            </div>
          </div>

          <button id="btnAddLiquidity" class="btn btn-primary btn-big">Add Liquidity</button>

          <div class="sep"></div>

          <div class="field">
            <div class="label">Remove percent (1..100)</div>
            <div class="inputRow">
              <input id="liqRemovePct" class="input" placeholder="25" />
              <div class="tag">%</div>
            </div>
          </div>

          <button id="btnRemoveLiquidity" class="btn btn-ghost btn-big">Remove Liquidity</button>

          <div class="sep"></div>

          <div class="posBox">
            <div class="posLine">
              <span>Your deposited:</span>
              <span id="liqPosLine">—</span>
            </div>
            <div class="posLine">
              <span>Estimate remove all:</span>
              <span id="liqEstLine">—</span>
            </div>
          </div>

          <div id="liqMsg" class="msg"></div>
        </div>
      </section>

      <!-- Faucet -->
      <section id="panelFaucet" class="panel hidden">
        <h2 class="panel__title">Faucet</h2>

        <div class="box">
          <div class="label">Account ID</div>
          <input id="faucetAccountId" class="input" placeholder="0.0.x" />

          <div class="btnRow">
            <button id="btnFaucetCheck" class="btn btn-ghost">Check</button>
            <button id="btnFaucetClaim" class="btn btn-primary">Claim (20 each / 24h)</button>
          </div>

          <div id="faucetMsg" class="msg"></div>

          <div class="note">
            Tip: please associate tokens in HashPack first if needed.
          </div>
        </div>
      </section>

      <footer class="footer">
        <div>HashSwap – Stable Liquidity Infrastructure on Hedera</div>
      </footer>
    </div>
  </main>

  <script src="/config.js"></script>
  <script type="module" src="/script.js"></script>
</body>
</html>